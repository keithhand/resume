\documentclass[10pt,a4paper]{article}

\usepackage[margin=1cm]{geometry}
\usepackage{titling}
\usepackage{titlesec}
\usepackage[inline]{enumitem}
\usepackage{phonenumbers}
\usepackage{hyperref}
\usepackage{subfiles}
\usepackage{lipsum}
\usepackage{luacode}

\hypersetup{
  pdftitle={Resume},
  pdfpagemode=FullScreen,
  pdfborder={0 0 0},
}

% - ats stuff -

%\input{glyphtounicode}
%\pdfgentounicode=1
\pagenumbering{gobble}

% - styling -

% -- global
\rightskip .5em
\setlist{nosep}
\newcommand\formatdate[1]{
  {\small #1}
}

% -- \part
\titleformat{\part}
  {\bfseries\Large}
  {}
  {-.5em}
  {}[ \titlerule ]
\titlespacing{\part}{0em}{*3.5}{*3.5}

% -- \section
\newcommand\setsectionspace[1]{\def\sectionspace{#1}}
\newcommand\setsectionstyle[1]{
  \if 1#1 % skills
    \setsectionspace{0}
    \titleformat{\section}[runin]
      {\bfseries}
      {}
      {0em}
      {}[:]
    \titlespacing{\section}{.6em}{*.3}{*1}
  \else
  \if 2#1 % experience
    \setsectionspace{2}
    \titleformat{\section}[runin]
      {\bfseries\large}
      {}
      {0em}
      {}[\hfill {\vrule width 0pt}]
    \titlespacing{\section}{.5em}{*3}{*0}
  \fi
  \if 3#1 % education
    \setsectionspace{2}
    \titleformat{\section}[runin]
      {\bfseries\large}
      {}
      {0em}
      {}[\hfill {\vrule width 0pt}]
    \titlespacing{\section}{-.6em}{*1.5}{*0}
    \titlespacing{\subsection}{0em}{*-.5}{*0}
  \fi
  \fi
}
\newcommand\setsection[1]{
  \setsectionstyle{#1}
}

% -- \subsection
\titleformat{\subsection}[runin]
  {\normalsize}
  {}
  {0em}
  {}
\titlespacing{\subsection}{1em}{*-.5}{*0}

% ---

\begin{document}

\title{Resume}
\subfile{primary.s}

\part{Brief Summary}
\subfile{summary.s}

\part{Technical Skills}
\subfile{skills.s}

\part{Experience}
\subfile{experience.s}

\part{Education}
\subfile{education.s}

\end{document}
